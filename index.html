<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Oodinals-v0.02</title>

  <!-- Capture native fetch BEFORE any wallet in-app browser scripts can override it -->
  <script>
    if (!window.__NEXUS_RAW_FETCH__ && window.fetch) {
      try { window.__NEXUS_RAW_FETCH__ = window.fetch.bind(window); } catch (_) {}
    }
    // Force LTR direction — OKX in-app browser can inject RTL
    try {
      document.documentElement.setAttribute('dir', 'ltr');
      document.documentElement.style.direction = 'ltr';
      const enforceLTR = () => {
        try {
          document.documentElement.setAttribute('dir', 'ltr');
          document.documentElement.style.direction = 'ltr';
          const nodes = document.querySelectorAll('input, textarea, select, [contenteditable]');
          nodes.forEach((el) => {
            try {
              el.setAttribute('dir', 'ltr');
              el.style.direction = 'ltr';
              el.style.unicodeBidi = 'plaintext';
              el.style.textAlign = 'left';
            } catch (_) {}
          });
        } catch (_) {}
      };
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', enforceLTR, { once: true });
      } else {
        enforceLTR();
      }
      document.addEventListener('focusin', enforceLTR, true);
      setInterval(enforceLTR, 1000);
    } catch (_) {}
  </script>

  <!-- Force LTR globally to override wallet in-app browser RTL injection -->
  <style>
    html, body, *, *::before, *::after {
      direction: ltr !important;
      unicode-bidi: plaintext;
    }
    textarea, input, select, [contenteditable] {
      direction: ltr !important;
      unicode-bidi: plaintext;
      text-align: left !important;
    }
  </style>

  <script>
    (function () {
      try {
        const params = new URLSearchParams(window.location.search || '');
        const forceOrd = params.get('forceOrd') === '1' || params.get('forceOrd') === 'true';
        const qsOrigin = params.get('ordOrigin') || params.get('ordinalsOrigin') || '';
        const storedOrigin = (function () {
          try { return window.localStorage && window.localStorage.getItem('NEXUS_ORDINALS_ORIGIN'); } catch (_) { return ''; }
        })();

        // Default origin behavior:
        // - If the app is served from a static host (e.g. GitHub Pages), the current origin
        //   will not have `/r/*` or `/content/*` routes, so relative imports will 404.
        // - If running inside a wallet in-app browser where ordinals.com may be blocked,
        //   you should pass `?ordOrigin=<proxy>` explicitly.
        let defaultOrigin = '';
        try {
          const host = String(window.location && window.location.hostname ? window.location.hostname : '');
          const isLocal = host === 'localhost' || host === '127.0.0.1';
          const isGitHubPages = host.endsWith('.github.io');
          if (isLocal || isGitHubPages) defaultOrigin = 'https://ordinals.com';
        } catch (_) {}

        // TEMP DEBUG: if you open with ?forceOrd=1, always use ordinals.com.
        const origin = (forceOrd ? 'https://ordinals.com' : (qsOrigin || storedOrigin || defaultOrigin || '')).trim();
        window.__NEXUS_ORDINALS_ORIGIN__ = origin;
        window.__NEXUS_ORDINALS_ORIGIN_CONFIRMED__ = false;
        window.__NEXUS_WEB_BUILD__ = true;
      } catch (_) {
        window.__NEXUS_ORDINALS_ORIGIN__ = '';
        window.__NEXUS_ORDINALS_ORIGIN_CONFIRMED__ = false;
        window.__NEXUS_WEB_BUILD__ = true;
      }
    })();
  </script>

    <!-- Minimal on-screen debug overlay (does not cover the UI) -->
    <script>
      (function () {
        function debugEnabled() {
          try {
            const qs = String(window.location.search || '');
            if (/([?&])walletDebug=1([&#]|$)/.test(qs)) return true;
            const v = window.localStorage && window.localStorage.getItem('NEXUS_WALLET_DEBUG');
            return v === '1' || v === 'true' || window.NEXUS_WALLET_DEBUG === true;
          } catch (_) {
            return window.NEXUS_WALLET_DEBUG === true;
          }
        }

        if (!debugEnabled()) return;
        try { window.NEXUS_WALLET_DEBUG = true; } catch (_) {}

        function safeStringify(obj) {
          try { return JSON.stringify(obj, null, 2); } catch (e) { return String(e && e.message ? e.message : e); }
        }

        function getSnapshot() {
          const w = window;
          return {
            href: String(w.location && w.location.href ? w.location.href : ''),
            userAgent: String(w.navigator && w.navigator.userAgent ? w.navigator.userAgent : ''),
            ordinalsOrigin: typeof w.__NEXUS_ORDINALS_ORIGIN__ === 'string' ? w.__NEXUS_ORDINALS_ORIGIN__ : null,
            ordinalsConfirmed: w.__NEXUS_ORDINALS_ORIGIN_CONFIRMED__ === true,
            hasOkxBitcoin: !!(w.okxwallet && w.okxwallet.bitcoin),
            hasUnisat: !!w.unisat,
            hasXverse: !!(w.BitcoinProvider || w.XverseProviders),
            hasMagicEden: !!(w.magicEden && w.magicEden.bitcoin),
            hasPhantom: !!(w.phantom && w.phantom.bitcoin)
          };
        }

        function install() {
          if (document.getElementById('nexus-mini-debug')) return;

          const btn = document.createElement('button');
          btn.id = 'nexus-mini-debug-btn';
          btn.type = 'button';
          btn.textContent = 'DEBUG';
          btn.style.cssText = 'position:fixed;right:12px;bottom:12px;z-index:2147483647;background:rgba(10,10,12,.85);color:#e6e6e6;border:1px solid rgba(255,255,255,.18);border-radius:999px;padding:8px 12px;font:600 12px ui-monospace,Menlo,Consolas,monospace;cursor:pointer;';

          const panel = document.createElement('div');
          panel.id = 'nexus-mini-debug';
          panel.style.cssText = 'display:none;position:fixed;right:12px;bottom:54px;z-index:2147483647;width:min(420px,calc(100vw - 24px));max-height:40vh;overflow:hidden;background:rgba(10,10,12,.92);color:#e6e6e6;border:1px solid rgba(255,255,255,.18);border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,.35);font:12px ui-monospace,Menlo,Consolas,monospace;';

          const header = document.createElement('div');
          header.style.cssText = 'display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px solid rgba(255,255,255,.14);';
          header.textContent = 'Nexus Debug';

          const actions = document.createElement('div');
          actions.style.cssText = 'display:flex;gap:8px;';

          const mkBtn = (label, fn) => {
            const b = document.createElement('button');
            b.type = 'button';
            b.textContent = label;
            b.style.cssText = 'background:rgba(255,255,255,.08);color:#e6e6e6;border:1px solid rgba(255,255,255,.18);border-radius:8px;padding:4px 8px;cursor:pointer;';
            b.onclick = fn;
            return b;
          };

          const pre = document.createElement('pre');
          pre.style.cssText = 'margin:0;padding:10px;overflow:auto;white-space:pre-wrap;word-break:break-word;max-height:calc(40vh - 42px);';

          const lines = [];
          function append(line) {
            const ts = new Date().toISOString();
            lines.push('[' + ts + '] ' + line);
            while (lines.length > 250) lines.shift();
            pre.textContent = lines.join('\n');
            pre.scrollTop = pre.scrollHeight;
          }

          function snapshot() {
            append('--- snapshot ---');
            append(safeStringify(getSnapshot()));
          }

          actions.appendChild(mkBtn('Snap', snapshot));
          actions.appendChild(mkBtn('Clear', () => { lines.length = 0; pre.textContent = ''; }));
          actions.appendChild(mkBtn('Close', () => { panel.style.display = 'none'; }));
          header.appendChild(actions);
          panel.appendChild(header);
          panel.appendChild(pre);

          btn.onclick = () => {
            panel.style.display = (panel.style.display === 'none') ? 'block' : 'none';
            if (panel.style.display === 'block' && !pre.textContent) snapshot();
          };

          window.addEventListener('error', (ev) => {
            try { append('window.error: ' + String(ev && ev.message ? ev.message : ev)); } catch (_) {}
          });
          window.addEventListener('unhandledrejection', (ev) => {
            try { append('unhandledrejection: ' + String(ev && ev.reason ? (ev.reason.message || ev.reason) : ev)); } catch (_) {}
          });

          document.body.appendChild(btn);
          document.body.appendChild(panel);
          window.__NEXUS_DEBUG_APPEND__ = append;
        }

        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', install, { once: true });
        } else {
          install();
        }
      })();
    </script>

 <script>
(function nexusOrdinalsViewerWrapper() {
  if (window.NexusOrdinalsWrapper && window.NexusOrdinalsWrapper.__installed__) return;

 const FALLBACK_ORIGIN = '';

  function isHttpLike() {
    try {
      return window.location.protocol === 'http:' || window.location.protocol === 'https:';
    } catch (_) {
      return false;
    }
  }

  if (!window.__NEXUS_RAW_FETCH__ && window.fetch) {
    try {
      window.__NEXUS_RAW_FETCH__ = window.fetch.bind(window);
    } catch (_) {}
  }

  function isOrdinalsDomainHost() {
    try {
      const hostname = window.location.hostname;
      return hostname === 'ordinals.com' || hostname.endsWith('.ordinals.com');
    } catch (_) {
      return false;
    }
  }

  function shouldFallbackPath(pathname) {
    return (
      pathname === '/r/blockheight' ||
      pathname === '/blockheight' ||
      pathname === '/blockhash' ||
      pathname.startsWith('/blockhash/') ||
      pathname === '/blocktime' ||
      pathname.startsWith('/r/') ||
      pathname.startsWith('/content/')
    );
  }

  function joinOrdinals(origin, pathOrUrl) {
    if (!pathOrUrl) return origin;
    if (/^(https?:)?\/\//i.test(pathOrUrl)) return pathOrUrl;
    return `${origin}${pathOrUrl}`;
  }

  function getPreferredOriginSync() {
    if (!isHttpLike()) return '';
    if (isOrdinalsDomainHost()) return '';
    if (typeof window.__NEXUS_ORDINALS_ORIGIN__ === 'string') {
      const origin = window.__NEXUS_ORDINALS_ORIGIN__;
      return origin || '';
    }
    return '';
  }

  function rewriteOrdinalsUrlCandidate(value) {
    if (typeof value !== 'string') return value;
    const origin = getPreferredOriginSync();
    if (/^(https?:)?\/\//i.test(value)) return value;
    if (value.startsWith('/') && shouldFallbackPath(value.split('?')[0])) {
      return origin ? `${origin}${value}` : value;
    }
    return value;
  }

  function isHtmlResponse(resp) {
    try {
      const ct = String(resp && resp.headers && resp.headers.get ? (resp.headers.get('content-type') || '') : '');
      return /text\/html/i.test(ct);
    } catch (_) {
      return false;
    }
  }

  async function detectOrdinalsOrigin() {
    try {
      if (!isHttpLike()) {
        window.__NEXUS_ORDINALS_ORIGIN__ = '';
        return '';
      }

      if (isOrdinalsDomainHost()) {
        window.__NEXUS_ORDINALS_ORIGIN_CONFIRMED__ = true;
        window.__NEXUS_ORDINALS_ORIGIN__ = '';
        return '';
      }

      const rawFetch = window.__NEXUS_RAW_FETCH__ || (window.fetch && window.fetch.bind(window));
      if (rawFetch) {
        const resp = await rawFetch('/r/blockheight', {
          cache: 'no-store',
          headers: { 'Accept': 'application/json' }
        });

        if (resp && resp.ok) {
          const ct = String(resp.headers && resp.headers.get ? (resp.headers.get('content-type') || '') : '');
          const text = await resp.text();
          const trimmed = String(text || '').trim();
          if (!/text\/html/i.test(ct) && /^\d+$/.test(trimmed)) {
            const n = parseInt(trimmed, 10);
            if (Number.isFinite(n) && n > 0) {
              window.__NEXUS_ORDINALS_ORIGIN_CONFIRMED__ = true;
              window.__NEXUS_ORDINALS_ORIGIN__ = '';
              return '';
            }
          }
        }
      }
    } catch (_) {}

    const configured = (typeof window.__NEXUS_ORDINALS_ORIGIN__ === 'string' ? window.__NEXUS_ORDINALS_ORIGIN__ : '') || '';
    return configured || FALLBACK_ORIGIN;
  }

  function detectOrdinalsOriginCached() {
    if (!window.__NEXUS_ORDINALS_ORIGIN_PROMISE__) {
      window.__NEXUS_ORDINALS_ORIGIN_PROMISE__ = (async () => {
        const origin = await detectOrdinalsOrigin();
        window.__NEXUS_ORDINALS_ORIGIN__ = origin;
        return origin;
      })();
    }
    return window.__NEXUS_ORDINALS_ORIGIN_PROMISE__;
  }

  function installFetchFallback() {
    if (window.__NEXUS_ORDINALS_FETCH_FALLBACK_INSTALLED__) return;
    window.__NEXUS_ORDINALS_FETCH_FALLBACK_INSTALLED__ = true;

    const originalFetch = window.__NEXUS_RAW_FETCH__ || (window.fetch && window.fetch.bind(window));
    if (!originalFetch) return;

    const wrappedFetch = async function fetchWithOrdinalsFallback(input, init) {
      const method = String((init && init.method) || (input && input.method) || 'GET').toUpperCase();
      if (method !== 'GET' && method !== 'HEAD') return originalFetch(input, init);

      let url;
      try {
        if (typeof input === 'string' || input instanceof URL) {
          url = new URL(String(input), window.location.href);
        } else if (input && typeof input.url === 'string') {
          url = new URL(input.url);
        }
      } catch (_) {
        return originalFetch(input, init);
      }

      if (!url || !shouldFallbackPath(url.pathname)) return originalFetch(input, init);

      // For /r/ endpoints (JSON API), always set Accept: application/json
      // This prevents in-app browsers (OKX, etc.) from treating the response as HTML.
      const isREndpoint = url.pathname.startsWith('/r/');
      const enhancedInit = (isREndpoint && init)
        ? { ...init, headers: { 'Accept': 'application/json', ...(init.headers || {}) } }
        : (isREndpoint ? { headers: { 'Accept': 'application/json' } } : init);

     const origin = getPreferredOriginSync() || FALLBACK_ORIGIN;
      if (origin) {
        const rewritten = `${origin}${url.pathname}${url.search}`;
        try {
          const resp = await originalFetch(rewritten, enhancedInit);
          if (resp && resp.ok) {
            if (!isHtmlResponse(resp)) return resp;
            // For /r/ endpoints, try to salvage HTML-typed responses (wallet browser injection)
            if (isREndpoint) {
              try {
                const cloned = resp.clone();
                const text = await cloned.text();
                const trimmed = text.trim();
                if (trimmed.startsWith('{') || trimmed.startsWith('[') || trimmed.startsWith('"')) {
                  return new Response(text, {
                    status: resp.status,
                    statusText: resp.statusText,
                    headers: { 'Content-Type': 'application/json' }
                  });
                }
              } catch (_) {}
            }
          }
        } catch (_) {}
      }

     return originalFetch(input, enhancedInit || init);
    };

    window.fetch = wrappedFetch;
    // Some in-app browsers (OKX) may override fetch after page load.
    // Re-apply our wrapper periodically so /r/* JSON requests stay stable.
    setInterval(() => {
      try {
        if (window.fetch !== wrappedFetch) {
          window.fetch = wrappedFetch;
        }
      } catch (_) {}
    }, 1000);
  }

  function installSrcHrefRewriter() {
    if (window.__NEXUS_ORDINALS_SRC_HREF_REWRITER_INSTALLED__) return;
    window.__NEXUS_ORDINALS_SRC_HREF_REWRITER_INSTALLED__ = true;

    try {
      const scriptSrc = Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype, 'src');
      if (scriptSrc && typeof scriptSrc.set === 'function' && typeof scriptSrc.get === 'function') {
        Object.defineProperty(HTMLScriptElement.prototype, 'src', {
          configurable: true,
          enumerable: scriptSrc.enumerable,
          get: function() { return scriptSrc.get.call(this); },
          set: function(v) { return scriptSrc.set.call(this, rewriteOrdinalsUrlCandidate(v)); }
        });
      }
    } catch (_) {}

    try {
      const linkHref = Object.getOwnPropertyDescriptor(HTMLLinkElement.prototype, 'href');
      if (linkHref && typeof linkHref.set === 'function' && typeof linkHref.get === 'function') {
        Object.defineProperty(HTMLLinkElement.prototype, 'href', {
          configurable: true,
          enumerable: linkHref.enumerable,
          get: function() { return linkHref.get.call(this); },
          set: function(v) { return linkHref.set.call(this, rewriteOrdinalsUrlCandidate(v)); }
        });
      }
    } catch (_) {}

    try {
      const origSetAttr = Element.prototype.setAttribute;
      Element.prototype.setAttribute = function(name, value) {
        try {
          const n = String(name || '').toLowerCase();
          if ((n === 'src' && this && this.tagName === 'SCRIPT') || (n === 'href' && this && this.tagName === 'LINK')) {
            return origSetAttr.call(this, name, rewriteOrdinalsUrlCandidate(String(value)));
          }
        } catch (_) {}
        return origSetAttr.call(this, name, value);
      };
    } catch (_) {}
  }

  function install() {
    window.__NEXUS_DETECT_ORDINALS_ORIGIN__ = detectOrdinalsOriginCached;
    installFetchFallback();
    installSrcHrefRewriter();
    detectOrdinalsOriginCached().catch(() => FALLBACK_ORIGIN);
  }

  window.NexusOrdinalsWrapper = {
    __installed__: true,
    install,
    detectOrdinalsOrigin: detectOrdinalsOriginCached,
    getOriginSync: getPreferredOriginSync,
    joinOrdinals,
    ordinalsUrl: function ordinalsUrl(pathOrUrl) {
      const origin = getPreferredOriginSync();
      return joinOrdinals(origin || FALLBACK_ORIGIN, pathOrUrl);
    },
    rewriteOrdinalsUrlCandidate
  };

  install();
})();
  </script>


<script>
    const originalDefineProperty = Object.defineProperty;
    const originalDefineProperties = Object.defineProperties;

    Object.defineProperty = function(obj, prop, descriptor) {
      try {
        return originalDefineProperty.call(this, obj, prop, descriptor);
      } catch (e) {
        const msg = String(e && e.message ? e.message : '');
        if (msg.includes('redefine property') || msg.includes('Cannot redefine property')) {
          return obj;
        }
        throw e;
      }
    };

    Object.defineProperties = function(obj, props) {
      try {
        return originalDefineProperties.call(this, obj, props);
      } catch (e) {
        const msg = String(e && e.message ? e.message : '');
        if (msg.includes('redefine property') || msg.includes('Cannot redefine property')) {
          return obj;
        }
        throw e;
      }
    };
  </script>

 <script>
    window.tailwind = window.tailwind || {};
    window.tailwind.config = {
      theme: {
        extend: {
          colors: {
            neutral: {
              50: '#fafafa',
              100: '#f5f5f5',
              200: '#e5e5e5',
              300: '#d4d4d4',
              400: '#a3a3a3',
              500: '#737373',
              600: '#525252',
              700: '#404040',
              800: '#262626',
              900: '#171717',
              950: '#0a0a0a'
            }
          },
          animation: {
            'fade-in': 'fadeIn 0.2s ease-out',
            'scale-in': 'scaleIn 0.2s ease-out',
            'slide-down': 'slideDown 0.3s ease-out',
            'slide-up': 'slideUp 0.3s ease-out'
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' }
            },
            scaleIn: {
              '0%': { transform: 'scale(0.95)', opacity: '0' },
              '100%': { transform: 'scale(1)', opacity: '1' }
            },
            slideDown: {
              '0%': { transform: 'translateY(-20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            }
          }
        }
      }
    };
  </script>

 <script>
  (function () {
    try {
      const origin = (typeof window.__NEXUS_ORDINALS_ORIGIN__ === 'string' ? window.__NEXUS_ORDINALS_ORIGIN__ : '') || '';
      const src = (origin ? origin : '') + '/content/609b117277f1e9c9f27f358fe02db34e13d08915bbcea18770dc36f5f3afcbb2i2';
      const s = document.createElement('script');
      s.src = src;
      document.head.appendChild(s);
    } catch (e) {
      try { window.__NEXUS_DEBUG_APPEND__ && window.__NEXUS_DEBUG_APPEND__('tailwind inject failed: ' + (e && e.message ? e.message : e)); } catch (_) {}
    }
  })();
 </script>

 <script>
    window.__VITE_PRELOAD__ = () => Promise.resolve();
    window.__NEXUS_LOADING_DEPS__ = true;

    (async function loadCryptoDependencies() {
      const inferredDefault = (function () {
        try {
          const host = String(window.location && window.location.hostname ? window.location.hostname : '');
          const isLocal = host === 'localhost' || host === '127.0.0.1';
          const isGitHubPages = host.endsWith('.github.io');
          return (isLocal || isGitHubPages) ? 'https://ordinals.com' : '';
        } catch (_) {
          return '';
        }
      })();

      const ORD = (typeof window.__NEXUS_ORDINALS_ORIGIN__ === 'string' ? window.__NEXUS_ORDINALS_ORIGIN__ : '') || inferredDefault || '';
      const join = (path) => (ORD ? (ORD + path) : path);

      const SHA256_URL    = join('/r/sat/1550501128239335/at/-1/content');
      const SECP256K1_URL = join('/r/sat/1550501128240727/at/-1/content');

      try {
        const sha256Module = await import(SHA256_URL);
        const sha256     = sha256Module.sha256     || sha256Module.default?.sha256;
        const hmacSha256 = sha256Module.hmacSha256 || sha256Module.default?.hmacSha256;

        const secp       = await import(SECP256K1_URL);
        const secpModule = secp.default || secp;

        if (secpModule.etc) {
          secpModule.etc.hmacSha256Sync = (key, ...msgs) => hmacSha256(key, ...msgs);
        }
        if (secpModule.utils) {
          secpModule.utils.sha256Sync     = sha256;
          secpModule.utils.hmacSha256Sync = hmacSha256;
        }
        if (secpModule.hashes) {
          secpModule.hashes.sha256          = sha256;
          secpModule.hashes.hmacSha256      = hmacSha256;
          secpModule.hashes.sha256Async     = async (data) => sha256(data);
          secpModule.hashes.hmacSha256Async = async (key, ...msgs) => hmacSha256(key, ...msgs);
        }

        window.secp256k1    = secpModule;
        window.crypto_sha256 = { sha256, hmacSha256 };

   window.__NEXUS_CRYPTO_READY__ = true;
        window.dispatchEvent(new CustomEvent('nexus-crypto-ready'));
      } catch (error) {
        window.__NEXUS_LOADING_DEPS__ = false;
        window.__NEXUS_DEPS_ERROR__   = error;
        throw error;
      }
    })();
  </script>

 <link id="nexus-favicon" rel="icon" href="data:,">
  <script>
    (function () {
      try {
        const origin = (typeof window.__NEXUS_ORDINALS_ORIGIN__ === 'string' ? window.__NEXUS_ORDINALS_ORIGIN__ : '') || '';
        const p = (path) => (origin ? (origin + path) : path);
        const fav = document.getElementById('nexus-favicon');
        if (fav) fav.href = p('/r/sat/650232570296212/at/-1/content');

        const map = {
          imports: {
            btcapi: p('/r/sat/404079598249183/at/-1/content'),
            'brotli-oc': p('/content/fb483c53bc6938c1df1e25e03e99f726d08a1c0d2db4e0e644c0baf3526a1d60i0')
          }
        };
        const s = document.createElement('script');
        s.type = 'importmap';
        s.textContent = JSON.stringify(map, null, 2);
        document.currentScript.insertAdjacentElement('afterend', s);
      } catch (e) {
        try { window.__NEXUS_DEBUG_APPEND__ && window.__NEXUS_DEBUG_APPEND__('importmap inject failed: ' + (e && e.message ? e.message : e)); } catch (_) {}
      }
    })();
  </script>
</head>
<body>
<style>
  *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
  :root{
    --bg:#050505;
    --fg:rgba(255,255,255,.92);
    --muted:rgba(255,255,255,.32);
    --muted2:rgba(255,255,255,.18);
    --border:rgba(255,255,255,.10);
    --card:rgba(255,255,255,.06);
    --card2:rgba(255,255,255,.08);
    --accent:rgba(168,85,247,.95);
    --accent2:rgba(56,189,248,.92);
  }
  @keyframes hp-up{from{opacity:0;transform:translateY(22px)}to{opacity:1;transform:translateY(0)}}
  @keyframes hp-fade{from{opacity:0}to{opacity:1}}
  @keyframes hp-spin{to{transform:rotate(360deg)}}
  @keyframes hp-pulse{0%{opacity:.28}50%{opacity:.55}100%{opacity:.28}}

  #landing{position:relative;min-height:100vh;min-height:100dvh;background:radial-gradient(1200px 600px at 50% -10%,rgba(168,85,247,.10),transparent 62%),radial-gradient(900px 520px at 10% 10%,rgba(56,189,248,.08),transparent 55%),var(--bg);color:var(--fg);font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Inter',Roboto,Helvetica,sans-serif;display:flex;flex-direction:column;overflow:hidden}
  .hp-noise{position:absolute;inset:-60px;background-image:radial-gradient(rgba(255,255,255,.06) 1px, transparent 1px);background-size:28px 28px;opacity:.08;mix-blend-mode:overlay;pointer-events:none;z-index:0;animation:hp-pulse 10s ease-in-out infinite}
  .hp-glow{position:absolute;top:-35%;left:50%;transform:translateX(-50%);width:860px;height:860px;background:radial-gradient(circle,rgba(255,255,255,.05) 0%,transparent 68%);pointer-events:none;z-index:0}

  .hp-nav{position:relative;z-index:10;padding:18px 28px;display:flex;justify-content:space-between;align-items:center;gap:16px;animation:hp-fade .6s ease-out}
  .hp-logo{display:flex;align-items:center;gap:10px}
  .hp-logo-mark{width:34px;height:34px;border:1px solid rgba(255,255,255,.22);border-radius:10px;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.03));box-shadow:0 10px 30px rgba(0,0,0,.25)}
  .hp-logo-mark span{font-weight:800;font-size:14px;letter-spacing:-.02em;color:rgba(255,255,255,.9)}
  .hp-logo-t{font-size:15px;font-weight:650;letter-spacing:-.01em;color:rgba(255,255,255,.92)}
  .hp-badge{font-size:10px;font-weight:650;border:1px solid rgba(255,255,255,.14);color:rgba(255,255,255,.35);padding:3px 7px;border-radius:999px;text-transform:uppercase;letter-spacing:.08em}
  .hp-nav-r{display:flex;align-items:center;gap:12px;flex-wrap:wrap;justify-content:flex-end}
  .hp-nav-r a{color:rgba(255,255,255,.32);font-size:12px;text-decoration:none;font-weight:600;letter-spacing:.02em;transition:color .2s}
  .hp-nav-r a:hover{color:rgba(255,255,255,.82)}

  .hp-hero{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:0 20px 42px;position:relative;z-index:1}
  .hp-hero-inner{width:min(980px,100%);display:flex;flex-direction:column;align-items:center;gap:14px;animation:hp-up .8s ease-out}
  .hp-kicker{display:inline-flex;gap:10px;align-items:center;justify-content:center;font-size:11px;color:rgba(255,255,255,.28);letter-spacing:.20em;text-transform:uppercase;font-weight:700;margin-bottom:2px}
  .hp-dot{width:4px;height:4px;border-radius:999px;background:rgba(255,255,255,.22)}
  .hp-title{font-size:clamp(2.7rem,7.6vw,5.2rem);font-weight:250;letter-spacing:-.055em;line-height:1.02;color:#fff;margin:2px 0 0}
  .hp-title strong{font-weight:820;background:linear-gradient(90deg,rgba(255,255,255,.98),rgba(255,255,255,.78));-webkit-background-clip:text;background-clip:text;color:transparent}
  .hp-sub{font-size:clamp(.92rem,1.55vw,1.06rem);color:rgba(255,255,255,.30);font-weight:450;line-height:1.65;max-width:760px}

  .hp-ctas{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;align-items:center;margin-top:10px}
  .hp-btn{appearance:none;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.92);color:#0b0b0b;border-radius:999px;padding:14px 22px;font-weight:750;font-size:14px;cursor:pointer;letter-spacing:.01em;transition:transform .15s ease,box-shadow .2s ease,background .2s ease}
  .hp-btn:hover{transform:translateY(-1px);box-shadow:0 12px 50px rgba(0,0,0,.35)}
  .hp-btn:active{transform:translateY(0);box-shadow:none}
  .hp-btn.secondary{background:transparent;color:rgba(255,255,255,.82);border-color:rgba(255,255,255,.16)}
  .hp-btn.secondary:hover{background:rgba(255,255,255,.06)}
  .hp-hint{font-size:12px;color:rgba(255,255,255,.22);margin-top:4px}

  .hp-grid{width:min(980px,100%);display:grid;grid-template-columns:repeat(12,1fr);gap:10px;margin-top:18px}
  .hp-card{grid-column:span 4;border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.07),rgba(255,255,255,.04));border-radius:16px;padding:14px 14px 13px;text-align:left;min-height:108px}
  .hp-card h3{font-size:12px;color:rgba(255,255,255,.82);font-weight:750;letter-spacing:.02em;margin-bottom:6px}
  .hp-card p{font-size:12px;line-height:1.55;color:rgba(255,255,255,.30)}
  .hp-tagrow{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-top:14px}
  .hp-tag{border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);border-radius:999px;padding:8px 12px;font-size:12px;color:rgba(255,255,255,.35);font-weight:650;letter-spacing:.01em;cursor:pointer;transition:all .2s ease}
  .hp-tag:hover{border-color:rgba(255,255,255,.22);color:rgba(255,255,255,.82);background:rgba(255,255,255,.06)}

  .hp-foot{position:relative;z-index:10;padding:18px 28px;display:flex;justify-content:space-between;align-items:center;gap:12px;font-size:11px;color:rgba(255,255,255,.18);letter-spacing:.03em;animation:hp-fade 1s ease-out .35s both;flex-wrap:wrap}
  .hp-foot a{color:rgba(255,255,255,.22);text-decoration:none;transition:color .2s;font-weight:650}
  .hp-foot a:hover{color:rgba(255,255,255,.55)}

  #app-loading{display:none;position:fixed;inset:0;background:var(--bg);z-index:9999;justify-content:center;align-items:center;flex-direction:column;gap:12px}
  #app-loading.active{display:flex}
  .hp-spinner{width:28px;height:28px;border:1.5px solid rgba(255,255,255,.08);border-top-color:rgba(255,255,255,.55);border-radius:50%;animation:hp-spin .8s linear infinite}
  .hp-load-t{color:rgba(255,255,255,.22);font-size:11px;letter-spacing:.08em;text-transform:uppercase;font-weight:700}

  /* Mobile wallet chooser modal */
  .hp-modal{display:none;position:fixed;inset:0;z-index:99998;background:rgba(0,0,0,.62);backdrop-filter:blur(6px)}
  .hp-modal.active{display:flex;align-items:center;justify-content:center}
  .hp-modal-card{width:min(520px,calc(100vw - 26px));border:1px solid rgba(255,255,255,.12);background:rgba(10,10,12,.92);border-radius:16px;box-shadow:0 20px 80px rgba(0,0,0,.55);overflow:hidden}
  .hp-modal-h{display:flex;align-items:center;justify-content:space-between;padding:14px 14px;border-bottom:1px solid rgba(255,255,255,.10)}
  .hp-modal-h h4{font-size:12px;letter-spacing:.10em;text-transform:uppercase;color:rgba(255,255,255,.60);font-weight:800}
  .hp-x{appearance:none;background:transparent;border:1px solid rgba(255,255,255,.10);color:rgba(255,255,255,.55);border-radius:10px;padding:6px 10px;font-weight:800;cursor:pointer}
  .hp-modal-b{padding:14px 14px 16px}
  .hp-modal-b p{font-size:13px;line-height:1.55;color:rgba(255,255,255,.34);margin-bottom:12px}
  .hp-wallets{display:flex;flex-direction:column;gap:8px}
  .hp-wallet-btn{display:flex;align-items:center;justify-content:space-between;gap:10px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:rgba(255,255,255,.86);border-radius:12px;padding:11px 12px;font-weight:750;cursor:pointer;transition:background .15s ease,border-color .15s ease}
  .hp-wallet-btn:hover{background:rgba(255,255,255,.10);border-color:rgba(168,85,247,.35)}
  .hp-wallet-sub{font-size:11px;color:rgba(255,255,255,.26);font-weight:650;margin-top:2px}
  .hp-wallet-r{opacity:.35;font-weight:900}
  .hp-modal-actions{display:flex;gap:10px;justify-content:space-between;flex-wrap:wrap;margin-top:12px}

  @media(max-width:840px){
    .hp-card{grid-column:span 12}
  }
  @media(max-width:640px){
    .hp-nav{padding:16px 18px}
    .hp-foot{padding:16px 18px;flex-direction:column;align-items:flex-start}
  }
</style>

<div id="landing">
  <div class="hp-noise"></div>
  <div class="hp-glow"></div>
  <nav class="hp-nav">
    <div class="hp-logo">
      <div class="hp-logo-mark" aria-hidden="true"><span>O</span></div>
      <span class="hp-logo-t">Oodinals</span>
      <span class="hp-badge">OODL</span>
    </div>
    <div class="hp-nav-r">
      <a href="#oodl" onclick="scrollToOodl();return false">What is OODL?</a>
      <a href="#" onclick="launchApp();return false">Open app &rarr;</a>
    </div>
  </nav>

  <main class="hp-hero">
    <div class="hp-hero-inner">
      <div class="hp-kicker">
        <span>On-chain</span><span class="hp-dot"></span><span>Ordinals</span><span class="hp-dot"></span><span>Open Stores</span>
      </div>
      <h1 class="hp-title"><strong>Oodinals</strong></h1>
      <p class="hp-sub">
        A Bitmap-friendly inscriber + marketplace designed to support the on-chain metaverse.
        Powered by <strong>OODL</strong> — an <strong>On-chain</strong>, <strong>Ordinals</strong>, <strong>Decentralised Listing</strong> protocol.
        Create inscriptions, build Open Stores, and share private sales your friends can complete later.
      </p>

      <div class="hp-ctas">
        <button id="hp-primary" class="hp-btn" onclick="launchApp()">Launch app</button>
        <button id="hp-open-wallet" class="hp-btn secondary" onclick="showMobileChooser()" style="display:none">Open in wallet app</button>
        <button class="hp-btn secondary" onclick="launchApp('openstores')">Open Stores</button>
      </div>
      <div id="hp-mobile-hint" class="hp-hint" style="display:none">
        Mobile: open inside a wallet app for seamless signing.
      </div>

      <div class="hp-grid" id="oodl">
        <div class="hp-card">
          <h3>OODL protocol</h3>
          <p>Listings are protocol-first. OODL = On-chain • Ordinals • Decentralised Listing. Any platform can implement OODL to list and discover assets.</p>
        </div>
        <div class="hp-card">
          <h3>Open Stores</h3>
          <p>Create a store, publish listings, and trade—minimal UX, powerful outcomes. The marketplace is the default, but the protocol is open.</p>
        </div>
        <div class="hp-card">
          <h3>Private sales</h3>
          <p>Generate a private offer and send it to a friend. They can come back later and complete the purchase—no coordination pain.</p>
        </div>
      </div>

      <div class="hp-tagrow" aria-label="Quick actions">
        <span class="hp-tag" onclick="launchApp('inscribe')">Inscribe</span>
        <span class="hp-tag" onclick="launchApp('marketplace')">Marketplace</span>
        <span class="hp-tag" onclick="launchApp('trade')">List &amp; trade</span>
        <span class="hp-tag" onclick="launchApp('private')">Private sale</span>
        <span class="hp-tag" onclick="launchApp('bitmaps')">Bitmaps</span>
        <span class="hp-tag" onclick="launchApp('wallets')">Wallets</span>
      </div>
    </div>
  </main>

  <footer class="hp-foot">
    <span>OODL: On-chain • Ordinals • Decentralised Listing</span>
    <a href="#" onclick="launchApp();return false">Enter app &rarr;</a>
  </footer>
</div>

<div id="mobile-chooser" class="hp-modal" aria-hidden="true" onclick="hideMobileChooser()">
  <div class="hp-modal-card" onclick="event.stopPropagation()">
    <div class="hp-modal-h">
      <h4>Open in wallet</h4>
      <button class="hp-x" onclick="hideMobileChooser()" aria-label="Close">✕</button>
    </div>
    <div class="hp-modal-b">
      <p>
        To connect and sign on mobile, open Oodinals inside a wallet app browser.
        Pick one below, or continue in your current browser.
      </p>
      <div id="hp-wallets" class="hp-wallets"></div>
      <div class="hp-modal-actions">
        <button class="hp-btn secondary" onclick="copyCurrentUrl()">Copy link</button>
        <button class="hp-btn" onclick="launchApp()">Continue here</button>
      </div>
    </div>
  </div>
</div>

<div id="root" style="display:none"></div>
<div id="app-loading"><div class="hp-spinner"></div><div class="hp-load-t">Loading</div></div>

<script>
function launchApp(section) {
  document.getElementById('landing').style.display = 'none';
  document.getElementById('app-loading').classList.add('active');
  document.getElementById('root').style.display = '';
  if (section) { window.__OODINALS_INITIAL_TAB__ = section; window.location.hash = section; }
  var check = setInterval(function() {
    var r = document.getElementById('root');
    if (r && r.children.length > 0) { clearInterval(check); document.getElementById('app-loading').classList.remove('active'); }
  }, 200);
  setTimeout(function() { clearInterval(check); var el = document.getElementById('app-loading'); if (el) el.classList.remove('active'); }, 8000);
}
if (window.location.hash && window.location.hash.length > 1) { launchApp(window.location.hash.slice(1)); }

function scrollToOodl() {
  try {
    var el = document.getElementById('oodl');
    if (el && typeof el.scrollIntoView === 'function') {
      el.scrollIntoView({ behavior: 'smooth' });
    }
  } catch (e) {}
}

function isMobileUA() {
  try {
    var ua = String((navigator && navigator.userAgent) || '').toLowerCase();
    return /android|iphone|ipad|ipod|iemobile|opera mini|mobile/.test(ua);
  } catch (e) {
    return false;
  }
}

function hasInjectedWalletProvider() {
  try {
    if (window.bitmapWallet && typeof window.bitmapWallet.request === 'function') return true;
    if (window.unisat) return true;
    if (window.okxwallet && window.okxwallet.bitcoin) return true;
    if (window.BitcoinProvider || window.XverseProviders) return true;
    if (window.magicEden && window.magicEden.bitcoin) return true;
    if (window.phantom && window.phantom.bitcoin) return true;
    if (window.wizz) return true;
  } catch (e) {}

  try {
    var nwc = window.NexusWalletConnect;
    if (nwc && typeof nwc.detectWallets === 'function') {
      var detected = nwc.detectWallets();
      return !!(detected && detected.length);
    }
  } catch (e) {}

  return false;
}

function showMobileChooser() {
  var modal = document.getElementById('mobile-chooser');
  if (!modal) return;
  modal.classList.add('active');
  modal.setAttribute('aria-hidden', 'false');
}

function hideMobileChooser() {
  var modal = document.getElementById('mobile-chooser');
  if (!modal) return;
  modal.classList.remove('active');
  modal.setAttribute('aria-hidden', 'true');
}

async function copyCurrentUrl() {
  try {
    var url = String(window.location && window.location.href ? window.location.href : '');
    if (!url) return;
    if (navigator && navigator.clipboard && navigator.clipboard.writeText) {
      await navigator.clipboard.writeText(url);
      return;
    }
  } catch (e) {}
  try {
    var url2 = String(window.location && window.location.href ? window.location.href : '');
    var el = document.createElement('textarea');
    el.value = url2;
    el.setAttribute('readonly', '');
    el.style.position = 'fixed';
    el.style.top = '-9999px';
    el.style.left = '-9999px';
    document.body.appendChild(el);
    el.select();
    el.setSelectionRange(0, el.value.length);
    document.execCommand('copy');
    document.body.removeChild(el);
  } catch (e) {}
}

function getFallbackMobileWalletOptions(targetUrl) {
  var url = targetUrl || (window.location && window.location.href);
  if (!url) return [];
  var origin = (window.location && window.location.origin) || url;
  return [
    { name: 'UniSat', title: 'UniSat', mode: 'inAppBrowser', openUrl: 'unisat://request?method=openDapp&from=unisat&nonce=nexus&data=' + encodeURIComponent(btoa(unescape(encodeURIComponent(JSON.stringify([String(url)]))))) },
    { name: 'Xverse', title: 'Xverse', mode: 'inAppBrowser', openUrl: 'xverse://browser?url=' + encodeURIComponent(String(url)), connectUrl: 'https://connect.xverse.app/browser?url=' + encodeURIComponent(String(url)) },
    { name: 'Phantom', title: 'Phantom', mode: 'inAppBrowser', openUrl: 'phantom://browse/' + encodeURIComponent(String(url)) + '?ref=' + encodeURIComponent(String(origin)), connectUrl: 'https://phantom.app/ul/browse/' + encodeURIComponent(String(url)) + '?ref=' + encodeURIComponent(String(origin)) },
    { name: 'MagicEden', title: 'Magic Eden (manual)', mode: 'manual', appUrl: 'magiceden://browser?url=' + encodeURIComponent(String(url)) }
  ];
}

function renderMobileWalletOptions() {
  var wrap = document.getElementById('hp-wallets');
  if (!wrap) return;
  wrap.innerHTML = '';

  var targetUrl = String(window.location && window.location.href ? window.location.href : '');
  var nwc = null;
  try { nwc = window.NexusWalletConnect; } catch (e) {}

  var options = [];
  try {
    if (nwc && typeof nwc.listMobileWalletOptions === 'function') {
      options = nwc.listMobileWalletOptions({ targetUrl: targetUrl, includeManual: true });
    }
  } catch (e) {}
  if (!options || !options.length) options = getFallbackMobileWalletOptions(targetUrl);

  options.forEach(function (opt) {
    var btn = document.createElement('button');
    btn.type = 'button';
    btn.className = 'hp-wallet-btn';
    var left = document.createElement('div');
    left.style.display = 'flex';
    left.style.flexDirection = 'column';
    left.style.alignItems = 'flex-start';
    var t = document.createElement('div');
    t.textContent = 'Open ' + String(opt.title || opt.name || 'Wallet');
    var sub = document.createElement('div');
    sub.className = 'hp-wallet-sub';
    sub.textContent = (opt.mode === 'manual') ? 'Opens app, then paste the link in Browser' : 'Opens this page in the wallet browser';
    left.appendChild(t);
    left.appendChild(sub);

    var right = document.createElement('div');
    right.className = 'hp-wallet-r';
    right.textContent = '↗';

    btn.appendChild(left);
    btn.appendChild(right);

    btn.onclick = function () {
      try {
        var name = String(opt.name || '');
        if (nwc && typeof nwc.openMobileWallet === 'function') {
          hideMobileChooser();
          nwc.openMobileWallet(name, targetUrl);
          return;
        }
      } catch (e) {}

      // Fallback behavior without NexusWalletConnect
      try {
        if (opt.mode === 'manual') {
          copyCurrentUrl();
          if (opt.appUrl) { window.location.href = opt.appUrl; return; }
        }
        if (opt.openUrl) { window.location.href = opt.openUrl; return; }
        if (opt.connectUrl) { window.location.href = opt.connectUrl; return; }
        if (opt.appUrl) { window.location.href = opt.appUrl; return; }
      } catch (e) {}
    };

    wrap.appendChild(btn);
  });
}

function initMobileLandingFlow() {
  var mobile = isMobileUA();
  var hint = document.getElementById('hp-mobile-hint');
  var openWalletBtn = document.getElementById('hp-open-wallet');
  if (mobile) {
    if (hint) hint.style.display = '';
    if (openWalletBtn) openWalletBtn.style.display = '';
    renderMobileWalletOptions();

    // If already inside a wallet browser (provider injected), auto-launch.
    // Otherwise guide users to open in a wallet app.
    setTimeout(function () {
      if (hasInjectedWalletProvider()) {
        launchApp();
      } else {
        showMobileChooser();
      }
    }, 650);
  } else {
    // Non-mobile: keep normal landing.
  }
}

try {
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initMobileLandingFlow, { once: true });
  } else {
    initMobileLandingFlow();
  }
} catch (e) {}
</script>

 <script>
  (function () {
    try {
      const origin = (typeof window.__NEXUS_ORDINALS_ORIGIN__ === 'string' ? window.__NEXUS_ORDINALS_ORIGIN__ : '') || '';
      const src = (origin ? origin : '') + '/content/6f3ff06fb6414bf40c1dac14c3a78fd3979476467cf8a0e5f107c79e9455fc02i0';
      const s = document.createElement('script');
      s.defer = true;
      s.src = src;
      document.body.appendChild(s);
    } catch (e) {
      try { window.__NEXUS_DEBUG_APPEND__ && window.__NEXUS_DEBUG_APPEND__('bootstrap inject failed: ' + (e && e.message ? e.message : e)); } catch (_) {}
    }
  })();
 </script>

  <script type="module" src="./main.web.js"></script>
</body>
</html>
